<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>åˆ©ç”¨è¦ç´„ / Terms of Use</title>
<style>
/* === ãƒ˜ãƒƒãƒ€ãƒ¼ === */
.header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  background-color: white;
  padding: 10px 20px;
}
.header-left {
  display: flex;
  align-items: center;
}
.logo {
  height: 40px;
  margin-right: 10px;
}
.site-name {
  font-size: 20px;
  font-weight: bold;
}
.header-right a {
  text-decoration: none;
  color: #0055aa;
  margin-left: 10px;
}

/* ã‚¹ã‚¿ã‚¤ãƒ«è¨­å®š */
body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
    background-color: #f4f4f4;
}
.container {
    max-width: 800px;
    margin: 20px auto;
    padding: 20px;
    background-color: #fff;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    transition: filter 0.3s ease;
}
h2 { color: #333; }
footer { text-align: center; margin-top: 20px; }
button {
    padding: 10px 20px;
    font-size: 16px;
    background-color: #4CAF50;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s ease;
}
button:hover { background-color: #45a049; }
button:active { background-color: #3e8e41; }
.button-disabled { background-color: #ccc; cursor: not-allowed; }
.highlight { background-color: yellow; font-weight: bold; }

/* ãƒ¢ãƒ¼ãƒ€ãƒ«å…±é€š */
.modal {
    display: none;
    position: fixed;
    z-index: 1000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0,0,0,0.4);
    overflow: auto;
    padding-top: 60px;
}
.modal-content {
    background-color: #fefefe;
    margin: 5% auto;
    padding: 20px;
    border: 1px solid #888;
    width: 80%;
    max-width: 600px;
}
.modal-header { 
    font-size: 20px; 
    font-weight: bold; 
    display:flex; 
    justify-content:space-between; 
    align-items:center; 
}
.modal-footer { text-align: right; margin-top: 20px; }
.modal-footer button {
    padding: 10px 20px;
    background-color: #4CAF50;
    color: white;
    border: none;
    border-radius: 5px;
}
.modal-footer .cancel { background-color: #f44336; }

/* ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ–‡å­—è¡¨ç¤ºç”¨ */
#liveTranscript {
    padding:10px;
    background-color:#eef;
    min-height:50px;
    border:1px solid #ccc;
    border-radius:5px;
    overflow-y:auto;
    max-height:150px;
    display:none;
}

.lang-select select {
  padding: 4px 6px;
  font-size: 14px;
}
</style>
</head>
<body>

<header class="header">
  <div class="header-left">
    <img src="https://irukatrin.dolphin.f5.si/favicon.ico" alt="ãƒ­ã‚´" class="logo" />
    <span class="site-name" id="siteName">ã„ã‚‹ã‹é›»é‰„</span>
  </div>
  <div class="menu-toggle" onclick="toggleMenu()">
    <span></span><span></span><span></span>
  </div>
  <nav class="header-right" id="menu">
    <a href="index.html" id="menuHome">ãƒ›ãƒ¼ãƒ </a>
    <a href="unkou" id="menuOp">é‹è¡Œæƒ…å ±</a>
    <a href="irukaSNS.html" id="menuVeh">è»Šä¸¡åˆ©ç”¨</a>
    <a href="#" id="menuTicket">ãƒã‚±ãƒƒãƒˆ</a>
    <a href="#" id="menuAbout">ä¼šç¤¾æ¦‚è¦</a>
  </nav>
  <div class="lang-select">
    <select id="langSelect">
      <option value="ja">ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª</option>
      <option value="en">ğŸ‡ºğŸ‡¸ English</option>
    </select>
  </div>
</header>

<div class="container" id="mainContainer">
    <h2 id="termsHeader">è»Šä¸¡åˆ©ç”¨è¦ç´„</h2>
    <p id="termsText">æœ¬è¦ç´„ã¯ã€ã„ã‚‹ã‹é›»é‰„ã®è»Šä¸¡ã‚’ã”åˆ©ç”¨ã„ãŸã ãéš›ã«é©ç”¨ã•ã‚Œã‚‹åˆ©ç”¨è¦ç´„ã§ã™ã€‚</p>

    <h3 id="contentHeader">åˆ©ç”¨è¦ç´„ã®å†…å®¹</h3>
    <ul id="termsList">
        <li id="term1">æœ¬è¦ç´„ã¯ã€ã™ã¹ã¦ã®å…¬é–‹ç‰©ã«é©ç”¨ã•ã‚Œã¾ã™ã€‚</li>
        <li id="term2">éƒ½åˆã«ã‚ˆã‚Šè¦ç´„ãŒå¤‰æ›´ã•ã‚Œã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚</li>
        <li id="term3">éå»ã®è¦ç´„ã¨ç›¸é•ç‚¹ãŒç™ºç”Ÿã—ãŸå ´åˆã€ç¾åœ¨ã®è¦ç´„ãŒå„ªå…ˆã•ã‚Œã¾ã™ã€‚</li>
    </ul>

    <h3 id="prohibitHeader">ç¦æ­¢äº‹é …</h3>
    <ul>
        <li id="prohibit1">å…¬è¡†é¢¨ä¿—ã«åã™ã‚‹è¡Œç‚ºã€ç„¡æ–­æ”¹é€ ãªã©ã¯ç¦æ­¢ã•ã‚Œã¦ã„ã¾ã™ã€‚</li>
        <li id="prohibit2">è¦ç´„é•åãŒç™ºè¦šã—ãŸå ´åˆã€å‡¦ç½°ãŒè¡Œã‚ã‚Œã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚</li>
        <li id="prohibit3">SNSã§ã®ä½¿ç”¨ã®å ´åˆã€å¿…ãšç”³è«‹ã‚’è¡Œã£ã¦ãã ã•ã„ã€‚</li>
    </ul>

    <h3 id="agreeHeader">åŒæ„</h3>
    <p id="agreeText">åˆ©ç”¨è€…ã¯ã€ãƒ‘ãƒƒã‚¯ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸæ™‚ç‚¹ã§ä»¥ä¸‹ã®è¦ç´„ã«åŒæ„ã—ãŸã‚‚ã®ã¨ã¿ãªã—ã¾ã™ã€‚</p>

    <h3 id="liveHeader">éŸ³å£°èªè­˜ä¸­ã®æ–‡å­—</h3>
    <div id="liveTranscript"></div>

    <footer>
        <button id="startReadingBtn">è¦ç´„ã‚’éŸ³èª­ã—ã¦ãã ã•ã„</button>
        <button id="agreeBtn" class="button-disabled" disabled>åˆ©ç”¨è¦ç´„ã«åŒæ„ã—ã¦ç”³è«‹</button>
    </footer>
</div>

<!-- éŸ³å£°åˆ©ç”¨è¦ç´„ãƒ¢ãƒ¼ãƒ€ãƒ« -->
<div id="voiceConsentModal" class="modal">
  <div class="modal-content">
    <div class="modal-header">
      <span id="voiceConsentHeader">éŸ³å£°åˆ©ç”¨è¦ç´„</span>
      <div class="lang-select">
        <select id="langSelectModal">
          <option value="ja">ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª</option>
          <option value="en">ğŸ‡ºğŸ‡¸ English</option>
        </select>
      </div>
    </div>

    <div class="modal-body" style="max-height:400px; overflow-y:auto;" id="voiceConsentBody">
      <p id="voiceConsentText">æœ¬è¦ç´„ã¯ã€æœ¬ã‚µãƒ¼ãƒ“ã‚¹ã«ãŠã‘ã‚‹éŸ³å£°èªè­˜æ©Ÿèƒ½ã®åˆ©ç”¨ã«é–¢ã—ã¦ã€åˆ©ç”¨è€…ã¨ã„ã‚‹ã‹é›»é‰„ï¼ˆä»¥ä¸‹ã€Œå½“ç¤¾ã€ã¨ã„ã†ï¼‰ã¨ã®é–“ã§é©ç”¨ã•ã‚Œã¾ã™ã€‚</p>
      <p id="voice1"><strong>ç¬¬1æ¡ï¼ˆç›®çš„ï¼‰</strong><br>æœ¬è¦ç´„ã¯ã€åˆ©ç”¨è€…ãŒæœ¬ã‚µãƒ¼ãƒ“ã‚¹ã‚’é€šã˜ã¦éŸ³å£°èªè­˜æ©Ÿèƒ½ã‚’åˆ©ç”¨ã™ã‚‹éš›ã®æ¡ä»¶ã‚’å®šã‚ã‚‹ã“ã¨ã‚’ç›®çš„ã¨ã—ã¾ã™ã€‚</p>
      <p id="voice2"><strong>ç¬¬2æ¡ï¼ˆéŸ³å£°ã®å–æ‰±ã„ï¼‰</strong><br>1. åˆ©ç”¨è€…ã®ç™ºè©±ã™ã‚‹éŸ³å£°ã¯ã€éŸ³å£°èªè­˜å‡¦ç†ã®ãŸã‚ã«ã®ã¿ä¸€æ™‚çš„ã«åˆ©ç”¨ã•ã‚Œã¾ã™ã€‚<br>2. éŸ³å£°ã¯ã‚µãƒ¼ãƒãƒ¼ã«é€ä¿¡ã•ã‚Œãšã€å½“ç¤¾ã«ã‚ˆã‚‹ä¿å­˜ã¯è¡Œã‚ã‚Œã¾ã›ã‚“ã€‚<br>3. éŸ³å£°èªè­˜ã®çµæœã¯ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§è¡¨ç¤ºã•ã‚Œã¾ã™ãŒã€è¨˜éŒ²ãƒ»ä¿å­˜ã¯ã•ã‚Œã¾ã›ã‚“ã€‚</p>
      <p id="voice3"><strong>ç¬¬3æ¡ï¼ˆç¦æ­¢äº‹é …ï¼‰</strong><br>åˆ©ç”¨è€…ã¯ä»¥ä¸‹ã®è¡Œç‚ºã‚’è¡Œã£ã¦ã¯ãªã‚Šã¾ã›ã‚“ã€‚<br>1. ä»–äººã®éŸ³å£°ã‚’ç„¡æ–­ã§ä½¿ç”¨ã™ã‚‹ã“ã¨ã€‚<br>2. é•æ³•è¡Œç‚ºã€ä»–è€…ã¸ã®è¿·æƒ‘è¡Œç‚ºã€è‘—ä½œæ¨©ä¾µå®³ç­‰ã®ç›®çš„ã§éŸ³å£°ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã€‚<br>3. æœªæˆå¹´è€…ã®å ´åˆã€ä¿è­·è€…ã®åŒæ„ã‚’å¾—ãšã«åˆ©ç”¨ã™ã‚‹ã“ã¨ã€‚</p>
      <p id="voice4"><strong>ç¬¬4æ¡ï¼ˆè²¬ä»»ï¼‰</strong><br>å½“ç¤¾ã¯ã€éŸ³å£°èªè­˜ã®ç²¾åº¦ã‚„çµæœã®å†…å®¹ã«ã¤ã„ã¦ä¸€åˆ‡ã®è²¬ä»»ã‚’è² ã„ã¾ã›ã‚“ã€‚åˆ©ç”¨è€…ã¯è‡ªå·±è²¬ä»»ã«ãŠã„ã¦æœ¬æ©Ÿèƒ½ã‚’ä½¿ç”¨ã™ã‚‹ã‚‚ã®ã¨ã—ã¾ã™ã€‚</p>
      <p id="voice5"><strong>ç¬¬5æ¡ï¼ˆåŒæ„ã®æ¡ä»¶ï¼‰</strong><br>åˆ©ç”¨è€…ã¯ã€æœ¬è¦ç´„ã‚’ç¢ºèªã®ä¸Šã€ã€ŒåŒæ„ã™ã‚‹ã€ã‚’æŠ¼ã—ãŸå ´åˆã«é™ã‚Šã€æœ¬ã‚µãƒ¼ãƒ“ã‚¹ã®éŸ³å£°èªè­˜æ©Ÿèƒ½ã‚’åˆ©ç”¨ã§ãã¾ã™ã€‚åŒæ„ã—ãªã„å ´åˆã¯ã€æœ¬ã‚µãƒ¼ãƒ“ã‚¹ã‚’åˆ©ç”¨ã§ãã¾ã›ã‚“ã€‚</p>
    </div>

    <div class="modal-footer">
      <button id="voiceConsentAgreeBtn" disabled>åŒæ„ã™ã‚‹</button>
      <button id="voiceConsentDeclineBtn" class="cancel">åŒæ„ã—ãªã„</button>
    </div>
  </div>
</div>

<!-- æ—¢å­˜ã®ç¢ºèªãƒ¢ãƒ¼ãƒ€ãƒ« -->
<div id="confirmationModal" class="modal">
    <div class="modal-content">
        <div class="modal-header"><span id="confirmHeader">ç¢ºèª</span></div>
        <div class="modal-body"><p id="confirmText">åˆ©ç”¨è¦ç´„ã«åŒæ„ã—ã¾ã™ã‹ï¼Ÿ</p></div>
        <div class="modal-footer">
            <button id="confirmBtn">åŒæ„ã™ã‚‹</button>
            <button id="cancelBtn" class="cancel">ã‚­ãƒ£ãƒ³ã‚»ãƒ«</button>
        </div>
    </div>
</div>

<script>
// ================= è¨€èªè¨­å®š =================
let lang = "ja"; // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯æ—¥æœ¬èª

const texts = {
  ja: {
    siteName:"ã„ã‚‹ã‹é›»é‰„",
    menuHome:"ãƒ›ãƒ¼ãƒ ",
    menuOp:"é‹è¡Œæƒ…å ±",
    menuVeh:"è»Šä¸¡åˆ©ç”¨",
    menuTicket:"ãƒã‚±ãƒƒãƒˆ",
    menuAbout:"ä¼šç¤¾æ¦‚è¦",
    termsHeader:"è»Šä¸¡åˆ©ç”¨è¦ç´„",
    termsText:"æœ¬è¦ç´„ã¯ã€ã„ã‚‹ã‹é›»é‰„ã®è»Šä¸¡ã‚’ã”åˆ©ç”¨ã„ãŸã ãéš›ã«é©ç”¨ã•ã‚Œã‚‹åˆ©ç”¨è¦ç´„ã§ã™ã€‚",
    contentHeader:"åˆ©ç”¨è¦ç´„ã®å†…å®¹",
    term1:"æœ¬è¦ç´„ã¯ã€ã™ã¹ã¦ã®å…¬é–‹ç‰©ã«é©ç”¨ã•ã‚Œã¾ã™ã€‚",
    term2:"éƒ½åˆã«ã‚ˆã‚Šè¦ç´„ãŒå¤‰æ›´ã•ã‚Œã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚",
    term3:"éå»ã®è¦ç´„ã¨ç›¸é•ç‚¹ãŒç™ºç”Ÿã—ãŸå ´åˆã€ç¾åœ¨ã®è¦ç´„ãŒå„ªå…ˆã•ã‚Œã¾ã™ã€‚",
    prohibitHeader:"ç¦æ­¢äº‹é …",
    prohibit1:"å…¬è¡†é¢¨ä¿—ã«åã™ã‚‹è¡Œç‚ºã€ç„¡æ–­æ”¹é€ ãªã©ã¯ç¦æ­¢ã•ã‚Œã¦ã„ã¾ã™ã€‚",
    prohibit2:"è¦ç´„é•åãŒç™ºè¦šã—ãŸå ´åˆã€å‡¦ç½°ãŒè¡Œã‚ã‚Œã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚",
    prohibit3:"SNSã§ã®ä½¿ç”¨ã®å ´åˆã€å¿…ãšç”³è«‹ã‚’è¡Œã£ã¦ãã ã•ã„ã€‚",
    agreeHeader:"åŒæ„",
    agreeText:"åˆ©ç”¨è€…ã¯ã€ãƒ‘ãƒƒã‚¯ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸæ™‚ç‚¹ã§ä»¥ä¸‹ã®è¦ç´„ã«åŒæ„ã—ãŸã‚‚ã®ã¨ã¿ãªã—ã¾ã™ã€‚",
    liveHeader:"éŸ³å£°èªè­˜ä¸­ã®æ–‡å­—",
    startBtn:"è¦ç´„ã‚’éŸ³èª­ã—ã¦ãã ã•ã„",
    agreeBtn:"åˆ©ç”¨è¦ç´„ã«åŒæ„ã—ã¦ç”³è«‹",
    confirmHeader:"ç¢ºèª",
    confirmText:"åˆ©ç”¨è¦ç´„ã«åŒæ„ã—ã¾ã™ã‹ï¼Ÿ",
    voiceConsentHeader:"éŸ³å£°åˆ©ç”¨è¦ç´„",
    voiceConsentText:"æœ¬è¦ç´„ã¯ã€æœ¬ã‚µãƒ¼ãƒ“ã‚¹ã«ãŠã‘ã‚‹éŸ³å£°èªè­˜æ©Ÿèƒ½ã®åˆ©ç”¨ã«é–¢ã—ã¦ã€åˆ©ç”¨è€…ã¨ã„ã‚‹ã‹é›»é‰„ï¼ˆä»¥ä¸‹ã€Œå½“ç¤¾ã€ã¨ã„ã†ï¼‰ã¨ã®é–“ã§é©ç”¨ã•ã‚Œã¾ã™ã€‚",
    voice1:"ç¬¬1æ¡ï¼ˆç›®çš„ï¼‰ æœ¬è¦ç´„ã¯ã€åˆ©ç”¨è€…ãŒæœ¬ã‚µãƒ¼ãƒ“ã‚¹ã‚’é€šã˜ã¦éŸ³å£°èªè­˜æ©Ÿèƒ½ã‚’åˆ©ç”¨ã™ã‚‹éš›ã®æ¡ä»¶ã‚’å®šã‚ã‚‹ã“ã¨ã‚’ç›®çš„ã¨ã—ã¾ã™ã€‚",
    voice2:"ç¬¬2æ¡ï¼ˆéŸ³å£°ã®å–æ‰±ã„ï¼‰ 1. åˆ©ç”¨è€…ã®ç™ºè©±ã™ã‚‹éŸ³å£°ã¯ã€éŸ³å£°èªè­˜å‡¦ç†ã®ãŸã‚ã«ã®ã¿ä¸€æ™‚çš„ã«åˆ©ç”¨ã•ã‚Œã¾ã™ã€‚ 2. éŸ³å£°ã¯ã‚µãƒ¼ãƒãƒ¼ã«é€ä¿¡ã•ã‚Œãšã€å½“ç¤¾ã«ã‚ˆã‚‹ä¿å­˜ã¯è¡Œã‚ã‚Œã¾ã›ã‚“ã€‚ 3. éŸ³å£°èªè­˜ã®çµæœã¯ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§è¡¨ç¤ºã•ã‚Œã¾ã™ãŒã€è¨˜éŒ²ãƒ»ä¿å­˜ã¯ã•ã‚Œã¾ã›ã‚“ã€‚",
    voice3:"ç¬¬3æ¡ï¼ˆç¦æ­¢äº‹é …ï¼‰ åˆ©ç”¨è€…ã¯ä»¥ä¸‹ã®è¡Œç‚ºã‚’è¡Œã£ã¦ã¯ãªã‚Šã¾ã›ã‚“ã€‚ 1. ä»–äººã®éŸ³å£°ã‚’ç„¡æ–­ã§ä½¿ç”¨ã™ã‚‹ã“ã¨ã€‚ 2. é•æ³•è¡Œç‚ºã€ä»–è€…ã¸ã®è¿·æƒ‘è¡Œç‚ºã€è‘—ä½œæ¨©ä¾µå®³ç­‰ã®ç›®çš„ã§éŸ³å£°ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã€‚ 3. æœªæˆå¹´è€…ã®å ´åˆã€ä¿è­·è€…ã®åŒæ„ã‚’å¾—ãšã«åˆ©ç”¨ã™ã‚‹ã“ã¨ã€‚",
    voice4:"ç¬¬4æ¡ï¼ˆè²¬ä»»ï¼‰ å½“ç¤¾ã¯ã€éŸ³å£°èªè­˜ã®ç²¾åº¦ã‚„çµæœã®å†…å®¹ã«ã¤ã„ã¦ä¸€åˆ‡ã®è²¬ä»»ã‚’è² ã„ã¾ã›ã‚“ã€‚åˆ©ç”¨è€…ã¯è‡ªå·±è²¬ä»»ã«ãŠã„ã¦æœ¬æ©Ÿèƒ½ã‚’ä½¿ç”¨ã™ã‚‹ã‚‚ã®ã¨ã—ã¾ã™ã€‚",
    voice5:"ç¬¬5æ¡ï¼ˆåŒæ„ã®æ¡ä»¶ï¼‰ åˆ©ç”¨è€…ã¯ã€æœ¬è¦ç´„ã‚’ç¢ºèªã®ä¸Šã€ã€ŒåŒæ„ã™ã‚‹ã€ã‚’æŠ¼ã—ãŸå ´åˆã«é™ã‚Šã€æœ¬ã‚µãƒ¼ãƒ“ã‚¹ã®éŸ³å£°èªè­˜æ©Ÿèƒ½ã‚’åˆ©ç”¨ã§ãã¾ã™ã€‚åŒæ„ã—ãªã„å ´åˆã¯ã€æœ¬ã‚µãƒ¼ãƒ“ã‚¹ã‚’åˆ©ç”¨ã§ãã¾ã›ã‚“ã€‚",
  },
  en: {
    siteName:"Iruka Railway",
    menuHome:"Home",
    menuOp:"Operation",
    menuVeh:"Vehicles",
    menuTicket:"Tickets",
    menuAbout:"About",
    termsHeader:"Terms of Use for Vehicles",
    termsText:"These Terms of Use apply when using Iruka Railway's vehicles.",
    contentHeader:"Contents of Terms",
    term1:"These terms apply to all published materials.",
    term2:"The terms may change due to circumstances.",
    term3:"In case of discrepancies with past terms, the current terms take priority.",
    prohibitHeader:"Prohibited Actions",
    prohibit1:"Actions against public morals, unauthorized modifications, etc. are prohibited.",
    prohibit2:"Violations may result in penalties.",
    prohibit3:"For SNS usage, always submit an application.",
    agreeHeader:"Consent",
    agreeText:"Users are deemed to have agreed to the following terms when downloading the pack.",
    liveHeader:"Live Speech Text",
    startBtn:"Read the Terms Aloud",
    agreeBtn:"Agree and Apply",
    confirmHeader:"Confirmation",
    confirmText:"Do you agree to the terms?",
    voiceConsentHeader:"Voice Terms of Use",
    voiceConsentText:"These terms apply to the use of the voice recognition feature of this service between the user and Iruka Railway.",
    voice1:"Article 1 (Purpose) The purpose of these terms is to define conditions for users to use the voice recognition feature.",
    voice2:"Article 2 (Handling of Voice) 1. User's voice is used temporarily only for recognition. 2. Voice is not sent to the server and not stored. 3. Recognition results are shown in real-time but not stored.",
    voice3:"Article 3 (Prohibited Actions) Users shall not: 1. Use others' voices without permission. 2. Use voice for illegal or nuisance purposes. 3. Minors must have parental consent.",
    voice4:"Article 4 (Responsibility) Iruka Railway is not responsible for accuracy or content of recognition results. Users use at their own risk.",
    voice5:"Article 5 (Consent Condition) Users can use the voice recognition feature only if they press 'Agree' after reading the terms.",
  }
};

// ================= è¨€èªãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚° =================
function renderLanguage(){
    document.getElementById("siteName").textContent = texts[lang].siteName;
    document.getElementById("menuHome").textContent = texts[lang].menuHome;
    document.getElementById("menuOp").textContent = texts[lang].menuOp;
    document.getElementById("menuVeh").textContent = texts[lang].menuVeh;
    document.getElementById("menuTicket").textContent = texts[lang].menuTicket;
    document.getElementById("menuAbout").textContent = texts[lang].menuAbout;
    document.getElementById("termsHeader").textContent = texts[lang].termsHeader;
    document.getElementById("termsText").textContent = texts[lang].termsText;
    document.getElementById("contentHeader").textContent = texts[lang].contentHeader;
    document.getElementById("term1").textContent = texts[lang].term1;
    document.getElementById("term2").textContent = texts[lang].term2;
    document.getElementById("term3").textContent = texts[lang].term3;
    document.getElementById("prohibitHeader").textContent = texts[lang].prohibitHeader;
    document.getElementById("prohibit1").textContent = texts[lang].prohibit1;
    document.getElementById("prohibit2").textContent = texts[lang].prohibit2;
    document.getElementById("prohibit3").textContent = texts[lang].prohibit3;
    document.getElementById("agreeHeader").textContent = texts[lang].agreeHeader;
    document.getElementById("agreeText").textContent = texts[lang].agreeText;
    document.getElementById("liveHeader").textContent = texts[lang].liveHeader;
    startReadingBtn.textContent = texts[lang].startBtn;
    agreeBtn.textContent = texts[lang].agreeBtn;
    document.getElementById("confirmHeader").textContent = texts[lang].confirmHeader;
    document.getElementById("confirmText").textContent = texts[lang].confirmText;
    document.getElementById("voiceConsentHeader").textContent = texts[lang].voiceConsentHeader;
    document.getElementById("voiceConsentText").textContent = texts[lang].voiceConsentText;
    document.getElementById("voice1").textContent = texts[lang].voice1;
    document.getElementById("voice2").textContent = texts[lang].voice2;
    document.getElementById("voice3").textContent = texts[lang].voice3;
    document.getElementById("voice4").textContent = texts[lang].voice4;
    document.getElementById("voice5").textContent = texts[lang].voice5;
}

// ================= å…±é€šãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ =================
function setLanguage(newLang){
    lang = newLang;
    renderLanguage();
    // ä¸¡æ–¹ã®ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ã‚’åŒæœŸ
    document.getElementById("langSelect").value = lang;
    document.getElementById("langSelectModal").value = lang;
}

["langSelect","langSelectModal"].forEach(id=>{
    document.getElementById(id).addEventListener("change",(e)=>{
        setLanguage(e.target.value);
    });
});

// ================= éŸ³å£°åˆ©ç”¨è¦ç´„ãƒ¢ãƒ¼ãƒ€ãƒ« =================
const voiceConsentModal = document.getElementById("voiceConsentModal");
const mainContainer = document.getElementById("mainContainer");
const voiceConsentBody = document.getElementById("voiceConsentBody");
const consentAgreeBtn = document.getElementById("voiceConsentAgreeBtn");
const consentDeclineBtn = document.getElementById("voiceConsentDeclineBtn");

document.addEventListener("DOMContentLoaded", function(){
    voiceConsentModal.style.display = "block";
    mainContainer.style.filter = "blur(4px)";

    // ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã§åŒæ„ãƒœã‚¿ãƒ³æœ‰åŠ¹åŒ–
    voiceConsentBody.addEventListener("scroll", function(){
        if(voiceConsentBody.scrollTop + voiceConsentBody.clientHeight >= voiceConsentBody.scrollHeight){
            consentAgreeBtn.disabled = false;
        }
    });

    // åŒæ„ãƒœã‚¿ãƒ³
    consentAgreeBtn.addEventListener("click", function(){
        voiceConsentModal.style.display = "none";
        mainContainer.style.filter = "none";
    });

    // åŒæ„ã—ãªã„ãƒœã‚¿ãƒ³
    consentDeclineBtn.addEventListener("click", function(){
        alert(lang==="ja"?"åŒæ„ã—ãªã„å ´åˆã¯ãƒšãƒ¼ã‚¸ã‚’åˆ©ç”¨ã§ãã¾ã›ã‚“ã€‚ãƒšãƒ¼ã‚¸ã‚’é–‰ã˜ã¾ã™ã€‚":"If you do not agree, you cannot use this page. The page will be closed.");
        window.location.href="about:blank";
    });
});

// ================= éŸ³å£°èªè­˜ =================
const startReadingBtn = document.getElementById("startReadingBtn");
const agreeBtn = document.getElementById("agreeBtn");
const liveTranscript = document.getElementById("liveTranscript");

let recognition;

startReadingBtn.addEventListener("click", ()=>{
    if(!('webkitSpeechRecognition' in window || 'SpeechRecognition' in window)){
        alert("ã“ã®ãƒ–ãƒ©ã‚¦ã‚¶ã¯éŸ³å£°èªè­˜ã«å¯¾å¿œã—ã¦ã„ã¾ã›ã‚“");
        return;
    }

    const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
    recognition = new SpeechRecognition();
    recognition.lang = (lang==="ja")?"ja-JP":"en-US";
    recognition.interimResults = true;
    recognition.continuous = true;

    liveTranscript.style.display = "block";
    liveTranscript.textContent = "";

    recognition.onresult = (event)=>{
        let interimTranscript = "";
        for(let i=event.resultIndex;i<event.results.length;i++){
            let transcript = event.results[i][0].transcript;
            if(event.results[i].isFinal){
                liveTranscript.textContent += transcript + "\n";
            } else {
                interimTranscript += transcript;
            }
        }
        liveTranscript.textContent += interimTranscript;

        // ã€ŒåŒæ„ã™ã‚‹ã€ã€Œagreeã€ã§ãƒœã‚¿ãƒ³æœ‰åŠ¹åŒ–
        if(interimTranscript.includes("åŒæ„ã™ã‚‹") || interimTranscript.toLowerCase().includes("agree")){
            agreeBtn.disabled = false;
            agreeBtn.classList.remove("button-disabled");
        }
    };

    recognition.start();
});

// åŒæ„ãƒœã‚¿ãƒ³
agreeBtn.addEventListener("click", ()=>{
    alert(lang==="ja"?"åˆ©ç”¨è¦ç´„ã«åŒæ„ã—ã¾ã—ãŸ":"You agreed to the terms.");
    if(recognition) recognition.stop();
});
</script>
</body>
</html>